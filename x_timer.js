(()=>{function t(){var t=new Date,e=new Date(t);return e.setDate(t.getDate()+(6-t.getDay()+7)%7),e.setHours(20,0,0,0),e}async function e(t,e){t=t.replace(/\n/g,"\r");try{(function(){var t=document.evaluate("/html/body/div[1]/div/div/div[2]/header/div/div/div/div[1]/div[3]/a/div",document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;if(t)t.click()})(),await r(2e3),document.execCommand("insertText",!1,t),await r(2e3),await r(n(201*Math.random())+800);var i=document.querySelector('[data-testid="scheduleOption"]');if(!i)throw new Error("未找到定时图标");i.click(),await r(n(201*Math.random())+800);var o=Array.from(document.querySelectorAll('select[id^="SELECTOR_"]')).sort(((t,e)=>parseInt(t.id.split("_")[1])-parseInt(e.id.split("_")[1])));if(5>o.length)throw new Error("未找到完整的时间选择器");var[c,l,d,s,u]=o,m=(e.getMonth()+1).toString(),h=e.getDate().toString(),v=e.getFullYear().toString(),w=e.getHours(),f=e.getMinutes();await a(c,m),await a(l,h),await a(d,v),await a(s,w),await a(u,f),await r(n(201*Math.random())+800);var g=document.querySelector('[data-testid="scheduledConfirmationPrimaryAction"]');if(!g)throw new Error("未找到确认按钮");g.click(),await r(n(201*Math.random())+800);var p=document.querySelector('[data-testid="tweetButton"]');if(!p)throw new Error("未找到发送按钮");p.click(),await r(n(201*Math.random())+800)}catch(t){throw t}}async function a(t,e){t.value=e,t.dispatchEvent(new Event("change",{bubbles:!0})),await r(n(201*Math.random())+800)}function r(t){return new Promise((e=>setTimeout(e,t)))}var n=Math.floor;const i=["amor_D26"];t().toISOString().slice(0,16),async function(a,o,c){if(""!=x_id)if(""!=suffix)try{if(!i.includes(x_id))return void alert("code：1003，该插件无法使用");var l=t(),d=new Date(l),s=suffix.split("\n").map((t=>t.trim())).filter((t=>t)).map((t=>t+" ")).join("\n");if(!content||""===content.trim())return void alert("请输入推文内容");content=content.replace(/\r\n/g,"\n");var u=content.split("\n").map((t=>t.trim())).filter((t=>0<t.length));if(0===u.length)return void alert("code：1004，执行错误");for(var m=u.reduce(((t,e)=>(t.includes(e)||t.push(e),t)),[]),h=0,v=0;v<m.length;v++)for(var w=0;10>w;w++){var f=n(Math.random()*(c-o+1))+o,g=new Date(d.getTime()+h*f*6e4),p=m[v],y=JSON.parse(localStorage.getItem("emojis"));p=0<y.length?`${y[n(Math.random()*y.length)]+" "}${p}${" "+y[n(Math.random()*y.length)]}${w}\n\n${s}`:`${p}${w}\n\n${s}`;try{await e(p,g),await r(n(301*Math.random())+1800)}catch(t){}h++}form.style.display="none"}catch(t){alert("code：1005，执行错误: "+t.message)}else alert("code：1002，该插件无法使用");else alert("code：1001，该插件无法使用")}(c="",minInterval=0,maxInterval=0,_x_="",x="")})();
